async function logClick(email, redirectUrl) {
    try {
        const response = await fetch('https://script.google.com/a/macros/edreamsodigeo.com/s/AKfycbzCdshoOgiKyllwcEKUb6cbsCvxkY8mFYp_rZbNkuyYFqfE9DQFvPdLRxQ264olbmcg/exec', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email: email, timestamp: new Date().toISOString(), url: redirectUrl }),
            mode: 'cors'  // Use 'cors' instead of 'no-cors'
        });

        if (response.ok) {
            console.log('Click logged successfully.');
        } else {
            console.error('Failed to log click.');
        }
    } catch (err) {
        console.error('Error logging click:', err);
    } finally {
        // Redirect to the actual URL after logging
        window.location.href = redirectUrl;
    }
}
